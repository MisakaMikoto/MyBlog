<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.misakamikoto.layout.contents.mapper.ContentsMapper">
    <resultMap id="contentJoinCode" type="com.misakamikoto.layout.contents.model.ContentsVO">
        <result property="id" column="id"/>
        <result property="subject" column="subject"/>
    </resultMap>

    <select id="getContentsList" parameterType="java.lang.Integer" resultType="com.misakamikoto.layout.contents.model.ContentsVO">
        SELECT
            id,
            subject
          FROM contents
         WHERE code_id = #{value};
    </select>

    <select id="getContent" parameterType="java.lang.Integer" resultType="com.misakamikoto.layout.contents.model.ContentsVO">
        SELECT
          subject,
          text
        FROM
          contents
        WHERE
          id = #{value};
    </select>

    <insert id="addContent" parameterType="com.misakamikoto.layout.contents.model.ContentsVO" useGeneratedKeys="true" keyProperty="id" >
        INSERT INTO
          contents (categoryCode, content, subject, videoId)
        VALUES
          (#{categoryCode}, #{content}, #{subject}, #{videoId})
    </insert>
</mapper>